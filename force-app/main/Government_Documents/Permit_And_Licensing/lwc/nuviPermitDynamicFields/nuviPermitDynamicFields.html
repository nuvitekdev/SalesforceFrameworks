<template>
    <div class="slds-grid slds-wrap slds-gutters_small">
        <template for:each={normalizedFields} for:item="f">
            <div key={f.name} class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2">
                <template if:true={f.isPicklist}>
                    <lightning-combobox
                        data-name={f.name}
                        name={f.name}
                        label={f.label}
                        placeholder={f.placeholder}
                        required={f.required}
                        value={f.value}
                        options={f.optionsNormalized}
                        onchange={handleChange}>
                    </lightning-combobox>
                </template>
                <template if:false={f.isPicklist}>
                    <lightning-input
                        data-name={f.name}
                        name={f.name}
                        type={f.inputType}
                        label={f.label}
                        message-when-pattern-mismatch="Invalid format"
                        placeholder={f.placeholder}
                        required={f.required}
                        pattern={f.pattern}
                        value={f.value}
                        onchange={handleChange}>
                    </lightning-input>
                </template>
                <template if:true={f.helpText}>
                    <div class="slds-text-body_small slds-text-color_weak slds-m-top_x-small">{f.helpText}</div>
                </template>
            </div>
        </template>
    </div>
</template>

